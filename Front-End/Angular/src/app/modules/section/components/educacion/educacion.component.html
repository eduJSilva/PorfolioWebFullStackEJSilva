<article id="educacion">
  <div *ngIf="educacionList" class="card mat-card">
    <div class="card-title">
      <h2>Educación</h2>

      <!--Botones-->
      <div *ngIf='!service.onlyRead' name="botones_educacion" style="float:right; display:block">

        <div title="Cancelar" onclick="exitEducacion()" class="btn-edit"><a href="/portfolio#educacion"
            class="btn-right"><i class="far fa-times-circle"></i></a></div>

        <div title="Agregar" class="btn-edit" (click)="service.showFormeducacion= true; formulario.resetFormulario()"><a
            href="/portfolio#listaEducacion" class="btn-right"><i class="fa fa-plus"></i></a></div>


        <div title="Modificar" class="btn-edit"><a href="/portfolio#listaEducacion" class="btn-right"
            (click)="service.showFormeducacionModificar= true;"><i class="fa fa-pen"></i></a></div>


        <div title="Eliminar" class="btn-trash"><a href="/portfolio#educacion" class="btn-right"
            (click)="service.showFormeducacionDelete= true;"><i class="fa fa-trash"></i></a></div>
      </div>

      <!--Lista Educación-->
      <div id="info-details" class="col-12">
        <div class="card-text">
          <ul class="list-group list-group-flush items-list">

            <li *ngFor="let educacion of educacionList; let i=index" class="list-group-item">

              <h6 *ngIf='!service.onlyRead' id={{educacion.idEducacion}}>{{educacion.idEducacion}}</h6>
              <figure class="figure">
                <img [src]="educacion.imagen" class="figure-img position-sticky rounded" [alt]="educacion.escuela">
                <figcaption style="margin-top: 10px;" class="figure-caption float-end">
                  {{educacion.escuela}}
                </figcaption>
              </figure>
              <h2>{{educacion.titulo}}</h2>
              <h3>{{educacion.estado}}</h3>
              <h3>{{educacion.inicio}} -- {{educacion.fin}}</h3>
              <h4>{{educacion.carrera}}-{{educacion.nivel}} Promedio: {{educacion.puntaje}}</h4>
            </li>
          </ul>
          <div id='listaEducacion'></div>
        </div>
      </div>
    </div>
  </div>
</article>
<!--Formulario Modificar Educacion Get ID-->
<div *ngIf="service.showFormeducacionModificar">
  <form [formGroup]="form" (ngSubmit)="getId()">
    <div class="form-row align-items-center">
      <div class="col-auto my-1">
        <label class="mr-sm-2" for="inlineFormCustomSelect">Educación a modificar</label>
        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" formControlName="idSeleccion">
          <option selected>Seleccione...</option>

          <option *ngFor="let educacion of educacionList">{{educacion.idEducacion}}</option>

        </select>
      </div>
      <div class="col-auto my-1">
        <button
          (click)="service.showFormeducacionModificar = false; getId(); service.showFormeducacionModificar1 = true "
          type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
  </form>
</div>

<!--Formulario modificar Educacion-->
<div *ngIf="service.showFormeducacionModificar1">
  <form [formGroup]="educacionForm" (ngSubmit)="modificarEdu(); service.showFormeducacionModificar1 = false">
    <div class="form-row">
      <div class="col">
        <input type="text" class="form-control" placeholder="Carrera" formControlName="carrera">
      </div>

      <div class="col">
        <input type="text" class="form-control" placeholder="Título obtenido" formControlName="titulo">
      </div>

      <div class="col">
        <input type="text" class="form-control" placeholder="Grado académico" formControlName="nivel">
      </div>

      <div class="col">
        <input type="text" class="form-control" placeholder="Institución" formControlName="escuela">
      </div>

      <div class="col">
        <input type="text" class="form-control" placeholder="Url de la institución" formControlName="imagen">
      </div>

      <div class="col form-check">
        <input formControlName="estado" class="form-check-input" type="checkbox" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Grado concluido
        </label>
      </div>


      <div class="col">
        <label class="form-check-label" for="promedio">Puntaje:</label>
        <input type="number" [maxlength]='10' [minlength]='1' class="form-control" placeholder="Puntaje" id="promedio"
          formControlName="puntaje">
      </div>

      <div class="col">
        <label class="form-check-label" for="inicio">Fecha de inicio:</label>
        <input type="date" class="form-control" id="inicio" placeholder="Fecha de inicio" formControlName="inicio">
      </div>

      <div class="col">
        <label class="form-check-label" for="fin">Fecha de finalización:</label>
        <input type="date" class="form-control" id="fin" placeholder="Fecha de finalización" formControlName="fin">
      </div>

      <div class="col-auto my-1">

        <button id="button" [disabled]="educacionForm.invalid" style="margin:20px 5px;" class="btn btn-success"
        type="submit">Submit</button>
      </div>

    </div>
  </form>
</div>

<!--Formulario Eliminar-->
<div *ngIf="service.showFormeducacionDelete">
  <form [formGroup]="form" (ngSubmit)="getIdBorrar()">
    <div class="form-row align-items-center">
      <div class="col-auto my-1">
        <label class="mr-sm-2" for="inlineFormCustomSelect">Educación a eliminar</label>
        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" formControlName="idSeleccion">
          <option selected>Seleccione...</option>

          <option *ngFor="let educacion of educacionList">{{educacion.idEducacion}}</option>

        </select>
      </div>
      <div class="col-auto my-1">
        <button (click)="getIdBorrar();  deleteEdu(); service.showFormeducacionDelete = false" type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
  </form>
</div>


<app-educacion-form></app-educacion-form>